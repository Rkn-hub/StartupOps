<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Calculator Test</title>
</head>
<body>
    <h1>Simple Calculator Test</h1>
    <button onclick="runTest()">Test Calculator</button>
    <div id="result"></div>

    <script src="js/equity-calculator-new.js"></script>
    <script>
        function runTest() {
            const resultDiv = document.getElementById('result');
            
            try {
                console.log('Testing calculator...');
                console.log('EquityCalculatorNew available:', !!window.EquityCalculatorNew);
                
                if (!window.EquityCalculatorNew) {
                    throw new Error('EquityCalculatorNew not available');
                }
                
                // Test with simple inputs
                const selectedServices = ['mvp', 'branding']; // 120k + 40k = 160k
                const cashPercent = 50;
                const stage = 'idea';
                const founderCommitment = 'HIGH';
                
                console.log('Input:', { selectedServices, cashPercent, stage, founderCommitment });
                
                const result = window.EquityCalculatorNew.calculateEquityNew(
                    selectedServices, 
                    cashPercent, 
                    stage, 
                    founderCommitment
                );
                
                console.log('Result:', result);
                
                resultDiv.innerHTML = `
                    <h3>Test Result:</h3>
                    <p>Service Price: ₹${result.servicePrice.toLocaleString()}</p>
                    <p>Adjusted Value: ₹${result.adjustedValue.toLocaleString()}</p>
                    <p>Cash Payment: ₹${result.cashPayable.toLocaleString()}</p>
                    <p>Equity Percentage: ${result.equityPercent}%</p>
                    <p>Deal Type: ${result.dealType}</p>
                    <p>Deal Status: ${result.dealStatus}</p>
                `;
                
            } catch (error) {
                console.error('Test failed:', error);
                resultDiv.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        }
        
        // Auto-run test when page loads
        window.addEventListener('load', function() {
            setTimeout(runTest, 1000);
        });
    </script>
</body>
</html>